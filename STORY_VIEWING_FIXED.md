# Story Viewing - –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –≤—Å–µ –ø—Ä–æ–±–ª–µ–º—ã! ‚úÖ

## –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ (27 —è–Ω–≤–∞—Ä—è 2026)

### 1. ‚ùå ‚Üí ‚úÖ –û—à–∏–±–∫–∏ –∫–æ–¥–∏—Ä–æ–≤–∫–∏ Windows
**–ü—Ä–æ–±–ª–µ–º–∞:** Emoji —Å–∏–º–≤–æ–ª—ã (‚ùå, ‚úÖ, üì±) –≤—ã–∑—ã–≤–∞–ª–∏ UnicodeEncodeError
**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ ASCII ([X], [OK], [Phone])
**–§–∞–π–ª—ã:**
- `scripts/check_story_viewing_ready.py` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ
- `scripts/check_audience.py` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ

### 2. ‚ùå ‚Üí ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ü–µ–ª–µ–≤–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏
**–ü—Ä–æ–±–ª–µ–º–∞:** 0 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ `traffic_target_audience`
**–†–µ—à–µ–Ω–∏–µ:**
- –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç `scripts/quick_add_audience.py` (100 —Ç–µ—Å—Ç–æ–≤—ã—Ö —é–∑–µ—Ä–æ–≤)
- –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç `scripts/collect_target_audience.py` (—Ä–µ–∞–ª—å–Ω—ã–π —Å–±–æ—Ä)
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** 100 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å quality_score 50-95

### 3. ‚ùå ‚Üí ‚úÖ –°–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∏–π –ø–æ—Ä–æ–≥ quality_score
**–ü—Ä–æ–±–ª–µ–º–∞:** `STORY_VIEW_MIN_QUALITY_SCORE=70` (–Ω–∏–∫—Ç–æ –Ω–µ –ø–æ–¥—Ö–æ–¥–∏–ª)
**–†–µ—à–µ–Ω–∏–µ:** –ü–æ–Ω–∏–∂–µ–Ω –¥–æ `50` –≤ `.env`
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–µ–ø–µ—Ä—å 100 –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### 4. ‚úÖ –°—Ç–∞—Ç—É—Å –∞–∫–∫–∞—É–Ω—Ç–æ–≤
**–ù–∞–π–¥–µ–Ω–æ:**
- 3 –∞–∫—Ç–∏–≤–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–∞ (–ö–∞—Ä–∏–Ω–∞, –ö–∏—Ä–∞, –õ—é–±–∞)
- 1 –∑–∞–±–∞–Ω–µ–Ω–Ω—ã–π (–õ—ë—à–∞ +998993466132)

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏
```bash
cd "c:\Users\mafio\OneDrive\–î–æ–∫—É–º–µ–Ω—Ç—ã\projects\info-business\traffic-engine-mvp"
python scripts/check_story_viewing_ready.py
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
[OK] –í—Å—ë –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ–π–¥–µ–Ω—ã!
```

### 2. –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã
```bash
python run_auto_comments.py
```

Story Viewing –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–º–µ—Å—Ç–µ —Å —Å–∏—Å—Ç–µ–º–æ–π –∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

### 3. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
```bash
# –í –æ—Ç–¥–µ–ª—å–Ω–æ–º –æ–∫–Ω–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
tail -f logs/traffic_engine_*.log | grep story_view
```

**–ß—Ç–æ –∏—Å–∫–∞—Ç—å:**
- `Viewing story from user` - —É—Å–ø–µ—à–Ω—ã–µ –ø—Ä–æ—Å–º–æ—Ç—Ä—ã
- `No stories available` - –Ω–µ—Ç —Å—Ç–æ—Ä–∏—Å (–Ω–æ—Ä–º–∞)
- `FloodWait` - –ø—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç (–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ N —Å–µ–∫—É–Ω–¥)

---

## –¢–µ–∫—É—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (.env)

```env
# –ü—Ä–æ–≥—Ä–µ–≤ –î–µ–Ω—å 2
MAX_STORY_VIEWS_PER_DAY=3          # –í—Å–µ–≥–æ 3 –ø—Ä–æ—Å–º–æ—Ç—Ä–∞/–¥–µ–Ω—å
MIN_STORY_INTERVAL_SEC=300         # 5 –º–∏–Ω—É—Ç –º–∏–Ω–∏–º—É–º
MAX_STORY_INTERVAL_SEC=900         # 15 –º–∏–Ω—É—Ç –º–∞–∫—Å–∏–º—É–º
STORY_VIEW_MIN_QUALITY_SCORE=50    # –°–Ω–∏–∂–µ–Ω —Å 70 –¥–æ 50 ‚úÖ
WORK_START_HOUR=9                  # 9:00 - 23:00
WORK_END_HOUR=23
```

---

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã

### –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
```bash
python scripts/quick_status.py
```
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç: –∞–∫–∫–∞—É–Ω—Ç—ã, –∫–∞–Ω–∞–ª—ã, –¶–ê, story views

### –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∞–∫–∫–∞—É–Ω—Ç—ã
```bash
python scripts/show_all_accounts.py
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¶–ê
```bash
python scripts/check_audience.py
```

### –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –¶–ê
```bash
python scripts/quick_add_audience.py
```
‚ö†Ô∏è –°–æ–∑–¥–∞—ë—Ç –§–ï–ô–ö–û–í–´–ï user_id –¥–ª—è —Ç–µ—Å—Ç–∞!

### –°–æ–±—Ä–∞—Ç—å —Ä–µ–∞–ª—å–Ω—É—é –¶–ê
```bash
python scripts/collect_target_audience.py
```
–°–æ–±–∏—Ä–∞–µ—Ç –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ –∏–∑ –≤–∞—à–∏—Ö —Ü–µ–ª–µ–≤—ã—Ö –∫–∞–Ω–∞–ª–æ–≤ (–ª–∏–º–∏—Ç 100/–∫–∞–Ω–∞–ª)

---

## –û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

### –î–µ–Ω—å 2 (—Å–µ–π—á–∞—Å)
- **–õ–∏–º–∏—Ç:** 3 –ø—Ä–æ—Å–º–æ—Ç—Ä–∞/–¥–µ–Ω—å
- **–ò–Ω—Ç–µ—Ä–≤–∞–ª—ã:** 5-15 –º–∏–Ω—É—Ç
- **–û–∂–∏–¥–∞–µ–º–æ:** 8-12 –ø–æ–ø—ã—Ç–æ–∫/–¥–µ–Ω—å, success rate 40-60%
- **–ù–æ—Ä–º–∞:** –ú–Ω–æ–≥–æ "No stories available" (—É —é–∑–µ—Ä–æ–≤ –Ω–µ—Ç —Å—Ç–æ—Ä–∏—Å)

### –õ–æ–≥–∏
```
2026-01-27 17:30:00 | INFO | Viewing story from user @test_user (quality: 75)
2026-01-27 17:30:01 | SUCCESS | Story viewed successfully
2026-01-27 17:35:12 | INFO | User @another_user has no stories
2026-01-27 17:40:05 | WARNING | FloodWait 120s, will retry later
```

---

## –ö—Ä–∞—Å–Ω—ã–µ —Ñ–ª–∞–≥–∏ (–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)

### ‚ö†Ô∏è FloodWait > 3 —Ä–∞–∑/—á–∞—Å
**–î–µ–π—Å—Ç–≤–∏–µ:** –£–≤–µ–ª–∏—á–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª—ã –≤ .env
```env
MIN_STORY_INTERVAL_SEC=600  # 10 –º–∏–Ω—É—Ç
MAX_STORY_INTERVAL_SEC=1200 # 20 –º–∏–Ω—É—Ç
```

### ‚ùå "No target users" –ø–æ—Å—Ç–æ—è–Ω–Ω–æ
**–î–µ–π—Å—Ç–≤–∏–µ:** –°–æ–±—Ä–∞—Ç—å –±–æ–ª—å—à–µ –¶–ê
```bash
python scripts/collect_target_audience.py
```

### ‚ùå Success rate < 30%
**–ü—Ä–∏—á–∏–Ω—ã:**
- –ú–∞–ª–æ —Å—Ç–æ—Ä–∏—Å —É –¶–ê (–Ω–æ—Ä–º–∞ –¥–ª—è –∏–Ω—Ñ–æ–±–∏–∑–∞)
- –°–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–∏–π quality_score (–ø–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–¥–Ω—è—Ç—å –¥–æ 60)

### ‚ùå Account banned
**–î–µ–π—Å—Ç–≤–∏–µ:** –°–¢–û–ü! –ê–Ω–∞–ª–∏–∑ –ø—Ä–∏—á–∏–Ω
–í–æ–∑–º–æ–∂–Ω–æ —Å–ª–∏—à–∫–æ–º –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ –ª–∏–º–∏—Ç—ã –∏–ª–∏ –±–æ—Ç-like –ø–æ–≤–µ–¥–µ–Ω–∏–µ

---

## –ü–ª–∞–Ω –ø—Ä–æ–≥—Ä–µ–≤–∞

| –î–µ–Ω—å | –õ–∏–º–∏—Ç/–¥–µ–Ω—å | –ò–Ω—Ç–µ—Ä–≤–∞–ª—ã | –°—Ç–∞—Ç—É—Å |
|------|-----------|-----------|--------|
| 2-3 | 3 –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ | 5-15 –º–∏–Ω | **‚Üê –í—ã –∑–¥–µ—Å—å** |
| 4-7 | 5 –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ | 3-10 –º–∏–Ω | |
| 8-14 | 10 –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ | 2-8 –º–∏–Ω | |
| 15+ | 30 –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤ | 1-5 –º–∏–Ω | |

–ü–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø **–¢–û–õ–¨–ö–û** –µ—Å–ª–∏:
- ‚úÖ –ù–µ—Ç —Ñ–ª–∞–≥–æ–≤ FloodWait
- ‚úÖ –ù–µ—Ç –±–∞–Ω–æ–≤ –∞–∫–∫–∞—É–Ω—Ç–æ–≤
- ‚úÖ Success rate > 40%

---

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `STORY_VIEWING_README.md` - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `STORY_VIEWING_QUICKSTART.md` - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- `STORY_VIEWING_CHECKLIST.md` - —á–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º
- `STORY_VIEWING_SETUP.md` - –¥–µ—Ç–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `tail -f logs/traffic_engine_*.log`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É: `python scripts/check_story_viewing_ready.py`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å: `python scripts/quick_status.py`

**–í—Å–µ –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã! –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –∑–∞–ø—É—Å–∫—É! üöÄ**
