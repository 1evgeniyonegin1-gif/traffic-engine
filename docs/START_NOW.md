# ▶️ ЗАПУСТИТЬ АВТОКОММЕНТИРОВАНИЕ ПРЯМО СЕЙЧАС

## Шаг 1: Установить зависимости

Откройте терминал (PowerShell или Git Bash):

```bash
cd "c:\Users\mafio\OneDrive\Документы\projects\info-business"
venv\Scripts\activate
pip install -r requirements.txt
```

Это установит недостающие библиотеки:
- `telethon` (для работы с Telegram API)
- `rich` (для красивого вывода статистики)

---

## Шаг 2: Инициализировать БД и добавить тенанта

```bash
python scripts\init_db.py
```

Это создаст таблицы и добавит тенанта `infobusiness`.

---

## Шаг 3: Добавить ваши 4 аккаунта

```bash
python scripts\setup_accounts.py
```

Это добавит в БД:
- ✅ Лёша Лаймов (@lemonlime192) - `account1.session`
- ✅ Карина (@karinko_o) - `karina.session`
- ✅ Люба (@lyuba_ok) - `ua_account1.session`
- ✅ Кира (@kirushka_94) - `ua_account2.session`

**ВАЖНО:** Убедитесь, что файлы сессий существуют в папке `sessions/`:
```bash
ls sessions/
```

Должны быть:
- `account1.session`
- `karina.session`
- `ua_account1.session`
- `ua_account2.session`

Если какой-то сессии нет - переименуйте или авторизуйтесь заново.

---

## Шаг 4: Добавить целевые каналы

```bash
python scripts\setup_channels.py
```

Это добавит каналы для автокомментирования:
- @lentachold (тестовый, с открытыми комментами)
- @biznes_online
- @zarabotok_v_internete
- @freelance_ru
- @chatgpt_ru
- @ai_news
- @udalenka
- @remote_work_russia

**Примечание:** Если скрипт не может получить ID каналов (требуется авторизованная сессия), он использует временные ID. Система их обновит при первом запуске.

---

## Шаг 5: ЗАПУСТИТЬ! 🚀

```bash
python run_auto_comments.py
```

### Что вы увидите:

```
============================================================
TRAFFIC ENGINE - АВТОКОММЕНТИРОВАНИЕ
============================================================

Аккаунты для ротации:
  1. Лёша Лаймов (@lemonlime192)
  2. Карина (@karinko_o)
  3. Люба (@lyuba_ok)
  4. Кира (@kirushka_94)

Для остановки нажмите Ctrl+C
============================================================

19:30:15 | INFO     | Starting tenant: Инфобизнес - Курсы по заработку
19:30:16 | INFO     | Channel monitor initialized with 8 channels
19:30:17 | INFO     | Telethon client connected
19:30:18 | INFO     | Already in channel: Лента Холд
19:30:19 | INFO     | Found 2 new posts in @lentachold
19:30:25 | INFO     | Posted comment to channel -1001234567890, post 89016 via account +380950182582
```

### Система работает!

Она будет:
1. ✅ Каждые 30-90 сек проверять новые посты
2. ✅ Фильтровать (пропускать рекламу, репосты)
3. ✅ Генерировать умные комментарии через YandexGPT
4. ✅ Публиковать комментарии с ротацией аккаунтов
5. ✅ Соблюдать лимиты (80 комментов/день на аккаунт)
6. ✅ Работать с 9:00 до 23:00

**Чтобы остановить:** нажмите `Ctrl + C`

---

## Шаг 6: Проверить статистику

В другом терминале (пока бот работает):

```bash
cd "c:\Users\mafio\OneDrive\Документы\projects\info-business"
venv\Scripts\activate
python scripts\check_stats.py
```

Вы увидите:

```
============================================================
TRAFFIC ENGINE - СТАТИСТИКА
============================================================

Тенант: Инфобизнес - Курсы по заработку

┏━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┓
┃         📊 Статистика за сегодня        ┃
┡━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━┩
│ ✓ Комментариев отправлено: 12          │
│ ⏸ FloodWait случаев: 1                 │
│ ✗ Ошибок: 0                            │
└─────────────────────────────────────────┘

              🤖 Аккаунты
┏━━━━━━━━━━━┳━━━━━━━━━━━━━━━┳━━━━━━━━┳━━━━━━━━━━━━━━━━━━┓
┃ Имя       ┃ Username      ┃ Статус ┃ Комменты сегодня ┃
┣━━━━━━━━━━━╋━━━━━━━━━━━━━━━╋━━━━━━━━╋━━━━━━━━━━━━━━━━━━┫
┃ Лёша      ┃ @lemonlime192 ┃ ✓      ┃ 5/80             ┃
┃ Карина    ┃ @karinko_o    ┃ ✓      ┃ 4/80             ┃
┃ Люба      ┃ @lyuba_ok     ┃ ✓      ┃ 3/80             ┃
┃ Кира      ┃ @kirushka_94  ┃ ✓      ┃ 0/80             ┃
┗━━━━━━━━━━━┻━━━━━━━━━━━━━━━┻━━━━━━━━┻━━━━━━━━━━━━━━━━━━┛
```

---

## 🔧 Настройки (опционально)

### Изменить лимиты

Отредактируйте [.env](.env) и перезапустите:

```env
MAX_COMMENTS_PER_DAY=50          # Меньше = безопаснее
MIN_COMMENT_INTERVAL_SEC=60      # Больше = безопаснее
MAX_COMMENT_INTERVAL_SEC=300     # Больше = естественнее
```

### Добавить свои каналы

```bash
python scripts\add_target_channels.py
```

Введите username канала (без @) и приоритет (1-10).

---

## ❓ Проблемы?

### "No available accounts for commenting"

**Решение:** Проверьте логи - возможно, все аккаунты в cooldown или достигли лимита.

```bash
tail -f logs/auto_comments_*.log
```

### "Failed to get client for account"

**Решение:** Проверьте, что сессия существует:

```bash
ls sessions/account1.session
```

Если нет - авторизуйтесь заново:

```bash
python scripts\auth_one.py
```

### FloodWait

**Решение:** Это нормально! Система автоматически поставит аккаунт в cooldown. Используйте другие аккаунты или подождите.

---

## ✅ Готово!

Теперь система работает автоматически весь день:
- ✅ Комментирует новые посты
- ✅ Ротирует аккаунты
- ✅ Соблюдает лимиты
- ✅ Избегает банов

**Следующий шаг:** Оставьте систему работать на весь день и проверяйте статистику каждые несколько часов.

```bash
python scripts\check_stats.py
```

---

## 🚀 Дальше

После того, как автокомментирование заработает стабильно (3-7 дней):

1. **Stories Reactor** - просмотр сторис ЦА
2. **Chat Inviter** - инвайты в чаты
3. **Admin Bot** - управление через Telegram

Удачи! 🎉
